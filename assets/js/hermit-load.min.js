function cloneObject(a){if(null==a||"object"!=typeof a)return a;if(a instanceof Date){var b=new Date(a.getDate());return b}if(a instanceof Array){for(var b=[],c=0,d=a.length;c<d;c++)b[c]=a[c];return b}if(a instanceof Object){var b={};for(var f in a)a.hasOwnProperty(f)&&(b[f]=cloneObject(a[f]));return b}}function hermitInit(){var a=document.getElementsByClassName("aplayer");ap=[];var c=[],d=[];for(let f=0;f<a.length;f++)if(a[f].dataset.songs){d[f]=cloneObject(a[f].dataset),d[f].element=a[f],c[f]=new XMLHttpRequest,c[f].onreadystatechange=function(){var h=c.indexOf(this),j=d[h];if(j.storageName="HxAP-Setting",4===this.readyState)if(200<=this.status&&300>this.status||304===this.status){var k=JSON.parse(this.responseText);if(j.music=k.msg.songs,void 0===j.music)return console.warn("Hermit-X failed to load "+d[h].songs),!1;void 0===j.showlrc&&(j.music[0].lrc?j.lrcType=3:j.lrcType=0),1===j.music.length&&(j.music=j.music[0]),j.autoplay&&(j.autoplay="true"===j.autoplay),j.listfolded&&(j.listFolded="true"===j.listfolded),j.mutex&&(j.mutex="true"===j.mutex),j.narrow&&(j.narrow="true"===j.narrow),ap[f]=new APlayer(j),ap[f].parseRespons=k,window.APlayerCall&&window.APlayerCall[f]&&window.APlayerCall[f](),window.APlayerloadAllCall&&a.length!=ap.length&&window.APlayerloadAllCall()}else console.error("Request was unsuccessful: "+this.status)};const g=HermitX.ajaxurl+"?action=hermit&musicset="+escape(d[f].songs)+"&_nonce="+d[f]._nonce;c[f].open("get",g,!0),c[f].send(null)}}function reloadHermit(){for(var a=0;a<ap.length;a++)try{ap[a].destroy()}catch(b){}hermitInit()}var ap=[];hermitInit(),console.log("\n %c Hermit X Music Helper v"+HermitX.version+" %c https://lwl.moe/HermitX \n","color: #fff; background: #4285f4; padding:5px 0;","background: #66CCFF; padding:5px 0;");